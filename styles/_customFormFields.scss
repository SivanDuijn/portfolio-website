@use "colors" as c;

// Mixin for the styling of the background of the input with the colored bar on the bottom.
@mixin _bottomBar($color) {
  background: linear-gradient(90deg, red, red) left bottom/0 2px no-repeat,
    linear-gradient(90deg, green, green) left bottom/0 2px no-repeat,
    linear-gradient(90deg, $color, $color) left bottom/0 2px no-repeat,
    linear-gradient(90deg, lightgrey, lightgrey) left bottom/100% 2px no-repeat,
    linear-gradient(90deg, white, white) left bottom/100% no-repeat;
}

@mixin input {
  .customInputField {
    position: relative;
    font-size: 14px;
    padding-top: 20px;
    margin-bottom: 5px;

    input {
      border: none;
      -ms-appearance: none;
      appearance: none;
      font-size: 14px;

      // Use linear-gradient to visualise the bar at the bottom on focus
      // With green and red colors for indicating (in)valid values
      background: linear-gradient(90deg, red, red) left bottom/0 2px no-repeat,
        linear-gradient(90deg, green, green) left bottom/0 2px no-repeat,
        linear-gradient(90deg, c.$clr-dark-orange, c.$clr-dark-orange) left bottom/0 2px no-repeat,
        linear-gradient(90deg, lightgrey, lightgrey) left bottom/100% 2px no-repeat,
        linear-gradient(90deg, white, white) left bottom/100% no-repeat;
      transition: background-size 0.3s ease;

      box-shadow: c.$clr-shadow 0px 0px 3px;
      padding: 10px;
      width: 100%;
      outline: none;

      // When focus, change the color of the bar
      &:focus,
      &:valid {
        background-size: 0 2px, 0 2px, 100% 2px, 100% 2px, 100%;

        & + span {
          top: 9px;
          font-size: 12px;
          font-weight: 600;
          color: darken(c.$clr-grey-text, 30%);
        }
      }
    }

    .isValid {
      background-size: 0 2px, 100% 2px, 100% 2px, 100% 2px, 100% !important;
    }
    .isInvalid {
      background-size: 100% 2px, 0 2px, 100% 2px, 100% 2px, 100% !important;
    }

    span {
      position: absolute;
      left: 12px;
      top: calc(50% + 8px);
      transform: translateY(-50%);
      color: c.$clr-grey-text;
      transition: top 0.2s ease, font-size 0.2s ease, color 0.2s ease;

      cursor: text;
    }
  }
}

// styling for custom textarea element, very similar to the input one
@mixin textarea {
  .customTextareaField {
    position: relative;
    font-size: 14px;
    padding-top: 20px;
    margin-bottom: 5px;

    textarea {
      border: none;
      -ms-appearance: none;
      appearance: none;
      font-family: 'Open Sans', sans-serif;
      font-size: 14px;
      resize: none;

      // Use linear-gradient to visualise the bar at the bottom on focus
      // With green and red colors for indicating (in)valid values
      background: linear-gradient(90deg, red, red) left bottom/0 2px no-repeat,
        linear-gradient(90deg, green, green) left bottom/0 2px no-repeat,
        linear-gradient(90deg, c.$clr-dark-orange, c.$clr-dark-orange) left bottom/0 2px no-repeat,
        linear-gradient(90deg, lightgrey, lightgrey) left bottom/100% 2px no-repeat,
        linear-gradient(90deg, white, white) left bottom/100% no-repeat;
      transition: background-size 0.3s ease;

      box-shadow: c.$clr-shadow 0px 0px 3px;
      padding: 12px;
      width: 100%;
      outline: none;

      // When focus, change the color of the bar
      &:focus,
      &:valid {
        background-size: 0 2px, 0 2px, 100% 2px, 100% 2px, 100%;

        & + span {
          top: 9px;
          font-size: 12px;
          font-weight: 600;
          color: darken(c.$clr-grey-text, 30%);
        }
      }
    }

    .isValid {
      background-size: 0 2px, 100% 2px, 100% 2px, 100% 2px, 100% !important;
    }
    .isInvalid {
      background-size: 100% 2px, 0 2px, 100% 2px, 100% 2px, 100% !important;
    }

    span {
      position: absolute;
      left: 12px;
      top: 42px;
      transform: translateY(-50%);
      color: c.$clr-grey-text;
      transition: top 0.2s ease, font-size 0.2s ease, color 0.2s ease;

      cursor: text;
    }
  }
}
